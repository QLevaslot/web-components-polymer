<!-- Our todo-list will generate todo-list-item elements, so we import it -->
<link rel="import" href="../todo-list-item/todo-list-item.html">
<!-- Import iron-ajax to get the list of todos from 'the server' -->
<link rel="import" href="/bower_components/iron-ajax/iron-ajax.html">
<dom-module id="todo-list">
    <template>
        <div class="search">
            <div class="search-item">Search: </br><input value="{{filterText::input}}"></div>
            <div class="search-item">Current search: </br>{{filterText}}</div>
            <div class="search-item">Number of results: </br>{{currentTodos}}</div>
        </div>
        <div class="list">
            <template id="todoList" is="dom-repeat" items="{{todos}}" filter="todoListFilter">
                <todo-list-item name="{{item.name}}" description="{{item.description}}">
                </todo-list-item>
            </template>
        </div>
        <iron-ajax
                auto
                url="../todo.json"
                method='get'
                params='{}'
                handle-as="json"
                on-response="gotTodos"
                on-error="gotError"
                debounce-duration="300"></iron-ajax>
    </template>
    <style>
        .search {
            display: block;
            float: left;
            margin-top: 1rem;
            width: 200px;
        }

        .search-item {
            height: 45px;
            padding: 5px;
        }

        .list {
            display: block;
            float: right;
            width: calc(100% - 200px);
        }
    </style>
</dom-module>
        <script>// element registration
        </script>
<script src="todo-list.js"></script>
